{% extends 'jobs/base.html' %}

{% block title %}Editar Perfil{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-lg-8">
        <div class="card shadow">
            <div class="card-header bg-primary text-white">
                <h3 class="card-title mb-0">
                    <i class="fas fa-user-edit"></i> Editar Perfil
                </h3>
            </div>
            <div class="card-body">
                <form method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    
                    <!-- Información Personal -->
                    <div class="row mb-4">
                        <div class="col-12">
                            <h5 class="text-primary mb-3">
                                <i class="fas fa-user"></i> Información Personal
                            </h5>
                        </div>
                        
                        <!-- Foto de Perfil -->
                        <div class="col-md-6 mb-3">
                            <label for="{{ form.profile_picture.id_for_label }}" class="form-label">
                                <i class="fas fa-camera"></i> Foto de Perfil
                            </label>
                            {{ form.profile_picture.errors }}
                            <div class="input-group">
                                {{ form.profile_picture }}
                            </div>
                            {% if form.profile_picture.help_text %}
                                <small class="form-text text-muted">{{ form.profile_picture.help_text }}</small>
                            {% endif %}
                        </div>
                        
                        <!-- Teléfono -->
                        <div class="col-md-6 mb-3">
                            <label for="{{ form.phone_number.id_for_label }}" class="form-label">
                                <i class="fas fa-phone"></i> Número de Teléfono
                            </label>
                            {{ form.phone_number.errors }}
                            <div class="input-group">
                                <span class="input-group-text"><i class="fas fa-phone"></i></span>
                                {{ form.phone_number }}
                            </div>
                            {% if form.phone_number.help_text %}
                                <small class="form-text text-muted">{{ form.phone_number.help_text }}</small>
                            {% endif %}
                        </div>
                    </div>

                    <!-- Ubicación -->
                    <div class="row mb-4">
                        <div class="col-12">
                            <h5 class="text-primary mb-3">
                                <i class="fas fa-map-marker-alt"></i> Ubicación
                            </h5>
                        </div>
                        
                        <!-- Dirección -->
                        <div class="col-12 mb-3">
                            <label for="{{ form.address.id_for_label }}" class="form-label">
                                <i class="fas fa-home"></i> Dirección
                            </label>
                            {{ form.address.errors }}
                            <div class="input-group">
                                <span class="input-group-text"><i class="fas fa-home"></i></span>
                                {{ form.address }}
                            </div>
                            {% if form.address.help_text %}
                                <small class="form-text text-muted">{{ form.address.help_text }}</small>
                            {% endif %}
                        </div>
                        
                        <!-- Ciudad y Estado -->
                        <div class="col-md-6 mb-3">
                            <label for="id_city" class="form-label">
                                <i class="fas fa-city"></i> Ciudad
                            </label>
                            {{ form.city.errors }}
                            <div class="input-group">
                                <span class="input-group-text"><i class="fas fa-city"></i></span>
                                <input list="ciudades-mexico" name="city" id="id_city" class="form-control" value="{{ form.city.value|default:'' }}">
                                <datalist id="ciudades-mexico">
                                    <option value="Ciudad de México">
                                    <option value="Guadalajara">
                                    <option value="Monterrey">
                                    <option value="Puebla">
                                    <option value="Toluca">
                                    <option value="Tijuana">
                                    <option value="León">
                                    <option value="Juárez">
                                    <option value="Torreón">
                                    <option value="Querétaro">
                                    <option value="Mérida">
                                    <option value="San Luis Potosí">
                                    <option value="Aguascalientes">
                                    <option value="Chihuahua">
                                    <option value="Saltillo">
                                    <option value="Morelia">
                                    <option value="Culiacán">
                                    <option value="Acapulco">
                                    <option value="Hermosillo">
                                    <option value="Veracruz">
                                    <option value="Cancún">
                                    <option value="Villahermosa">
                                    <option value="Xalapa">
                                    <option value="Oaxaca">
                                    <option value="Tuxtla Gutiérrez">
                                    <option value="Mazatlán">
                                    <option value="Ensenada">
                                    <option value="Colima">
                                    <option value="Campeche">
                                    <option value="La Paz">
                                    <option value="Zacatecas">
                                    <option value="Cuernavaca">
                                    <option value="Tepic">
                                    <option value="Durango">
                                    <option value="Irapuato">
                                    <option value="Matamoros">
                                    <option value="Reynosa">
                                    <option value="Nuevo Laredo">
                                    <option value="Tampico">
                                    <option value="Uruapan">
                                    <option value="Coatzacoalcos">
                                    <option value="Poza Rica">
                                    <option value="Pachuca">
                                    <option value="Celaya">
                                    <option value="Chilpancingo">
                                    <option value="Chetumal">
                                    <option value="Playa del Carmen">
                                    <option value="Puerto Vallarta">
                                    <option value="Los Mochis">
                                    <option value="San Cristóbal de las Casas">
                                </datalist>
                            </div>
                            {% if form.city.help_text %}
                                <small class="form-text text-muted">{{ form.city.help_text }}</small>
                            {% endif %}
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <label for="id_state" class="form-label">
                                <i class="fas fa-map"></i> Estado
                            </label>
                            {{ form.state.errors }}
                            <div class="input-group">
                                <span class="input-group-text"><i class="fas fa-map"></i></span>
                                <input list="estados-mexico" name="state" id="id_state" class="form-control" value="{{ form.state.value|default:'' }}">
                                <datalist id="estados-mexico">
                                    <option value="Aguascalientes">
                                    <option value="Baja California">
                                    <option value="Baja California Sur">
                                    <option value="Campeche">
                                    <option value="Chiapas">
                                    <option value="Chihuahua">
                                    <option value="Coahuila">
                                    <option value="Colima">
                                    <option value="Ciudad de México">
                                    <option value="Durango">
                                    <option value="Guanajuato">
                                    <option value="Guerrero">
                                    <option value="Hidalgo">
                                    <option value="Jalisco">
                                    <option value="Estado de México">
                                    <option value="Michoacán">
                                    <option value="Morelos">
                                    <option value="Nayarit">
                                    <option value="Nuevo León">
                                    <option value="Oaxaca">
                                    <option value="Puebla">
                                    <option value="Querétaro">
                                    <option value="Quintana Roo">
                                    <option value="San Luis Potosí">
                                    <option value="Sinaloa">
                                    <option value="Sonora">
                                    <option value="Tabasco">
                                    <option value="Tamaulipas">
                                    <option value="Tlaxcala">
                                    <option value="Veracruz">
                                    <option value="Yucatán">
                                    <option value="Zacatecas">
                                </datalist>
                            </div>
                            {% if form.state.help_text %}
                                <small class="form-text text-muted">{{ form.state.help_text }}</small>
                            {% endif %}
                        </div>
                    </div>

                    <!-- Biografía -->
                    <div class="row mb-4">
                        <div class="col-12">
                            <h5 class="text-primary mb-3">
                                <i class="fas fa-info-circle"></i> Sobre Mí
                            </h5>
                            <label for="{{ form.bio.id_for_label }}" class="form-label">
                                <i class="fas fa-quote-left"></i> Biografía
                            </label>
                            {{ form.bio.errors }}
                            <div class="input-group">
                                {{ form.bio }}
                            </div>
                            {% if form.bio.help_text %}
                                <small class="form-text text-muted">{{ form.bio.help_text }}</small>
                            {% endif %}
                        </div>
                    </div>

                    <!-- Botones de Acción -->
                    <div class="row">
                        <div class="col-12">
                            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                <a href="{% url 'profile_view' %}" class="btn btn-outline-secondary me-md-2">
                                    <i class="fas fa-times"></i> Cancelar
                                </a>
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-save"></i> Guardar Cambios
                                </button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<style>
    .form-control, .form-select {
        border-radius: 0.375rem;
        border: 1px solid #ced4da;
        padding: 0.75rem 1rem;
        font-size: 0.9rem;
    }
    
    .form-control:focus, .form-select:focus {
        border-color: #0d6efd;
        box-shadow: 0 0 0 0.2rem rgba(13, 110, 253, 0.25);
    }
    
    .input-group-text {
        background-color: #f8f9fa;
        border: 1px solid #ced4da;
        color: #6c757d;
    }
    
    .card-header {
        border-bottom: none;
    }
    
    .text-primary {
        color: #0d6efd !important;
    }
</style>
{% endblock %}
